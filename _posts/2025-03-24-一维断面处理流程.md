---
layout:     post
title:      一维断面处理流程
subtitle:   
date:       2025-03-24
author:     WT
header-img: img/post-bg-universe.jpg
catalog: true
tags:
    - SHP
    - Python
    - QGIS  
    - IFMS      
---

### 需求
一维水动力模型的运行需要断面数据，一般城市沿岸的大江大河都有断面信息，但两个城市之间会有缺失断面数据的情况，这时候需要根据DEM提取断面，然后和上下两个城市的断面连接，形成一个完整的一维模型。

### 实现

#### 断面提取
断面提取的文章详[同一河段不同断面宽度的提取与处理方法](https://www.spatial.pro/2025/02/24/%E5%90%8C%E4%B8%80%E6%B2%B3%E6%AE%B5%E4%B8%8D%E5%90%8C%E6%96%AD%E9%9D%A2%E5%AE%BD%E5%BA%A6%E7%9A%84%E6%8F%90%E5%8F%96%E4%B8%8E%E5%A4%84%E7%90%86%E6%96%B9%E6%B3%95/)。

#### 断面检查
[同一河段不同断面宽度的提取与处理方法](https://www.spatial.pro/2025/02/24/%E5%90%8C%E4%B8%80%E6%B2%B3%E6%AE%B5%E4%B8%8D%E5%90%8C%E6%96%AD%E9%9D%A2%E5%AE%BD%E5%BA%A6%E7%9A%84%E6%8F%90%E5%8F%96%E4%B8%8E%E5%A4%84%E7%90%86%E6%96%B9%E6%B3%95/)中也有说明。 如果程序检查没有问题，那断面一定满足要求，但有时候程序BUG，可以将不满足条件的单独打开Excel计算一下左右岸堤顶距离河底的高差，如果满足，则继续后续步骤，不满足，则加宽河道断面，重新提取断面，再用程序+人工的方式判断是否满足要求。如果通过加宽断面不能解决问题，需要结合影像判断是否是DEM异常造成的，如果是，可以根据影像结合常识修改河道断面的信息，或者通过实地测量的方式对少数断面进行修正。  
最后导入IFMS前可以再次对断面进行检查，确保所有断面的左右岸正常。

#### 导入IFMS
将河段数据导入IFMS，定位到河段位置，查看是否正常。包括位置、形状等。  
最后，使用节点概化功能连接提取断面河段与实测断面河段。
