---
layout:     post
title:      水动力模型堤防局部更新方法
subtitle:   
date:       2022-08-03
author:     WT
header-img: img/post-bg-universe.jpg
catalog: true
tags:
    - IFMS
    - 二维水动力模型  
    - 更新 
---

### 二维模型分块建模  

IFMS二维模型建模过程中，可能会遇到同一个模型被不同的人员进行修改，最后合并时无法准确的合并的问题。
情景1：人员A更新了区域1的堤防数据（边元），人员B更新了区域2的网格高程数据（单元）
此时，以人员B的模型为基础，将A修改的边元数据更新至B的模型。
边元默认的高程值是-999,更新后的值


```
jobs    # 列出所有作业
jobs -r # 列出运行中的作业
jobs -s # 列出挂起的作业
```
执行以上任意一条命令，再执行下面的命令  
```
kill %1
```
其中 %1 是从 jobs 命令中读取的作业数。  
还可以使用 jobs -l 列出 pid，并像往常一样使用 kill 命令。  
#### DEMO  
1、通过命令行 ./pg_tileserv 启动程序，再通过 Control + C停止该程序，也可以通过Control + Z 但该软件实际上只是在“挂起（suspended）”的状态，再次执行的时候，提示使用的端口被占用。   
运行程序:      
![run1](http://www.spatial.pro/img/macrunpg.png)     
Control+C:  
![run2](http://www.spatial.pro/img/maccontrolc.png)     
Control+Z:  
![run3](http://www.spatial.pro/img/maccontrolz.jpg)   

2、通过 jobs -s 列出挂起的任务，通过 kill %1结束进程
![run4](http://www.spatial.pro/img/mackill.jpg) 

引用文献：  
         [Linux / MacOS 结束运行中和挂起状态下的进程](https://www.cnblogs.com/jetsung/p/kill-suspended-process.html)  
         
         	 
